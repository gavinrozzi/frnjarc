<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analytics</title>

    
    
    
    <link rel="preload" href="http://localhost:1313/styles.css" as="style" />

    <link rel="dns-prefetch" href="https://maxcdn.bootstrapcdn.com/" />
    <link rel="preconnect" href="https://maxcdn.bootstrapcdn.com/" />
    <link rel="preload" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" as="style">

    <link rel="dns-prefetch" href="https://analytics.gavinrozzi.com" />
    <link rel="preconnect" href="https://analytics.gavinrozzi.com" /><meta name="description" itemprop="description" content="&lt;p&gt;BluestNight comes with support for &lt;a href=&#34;https://piwik.org/&#34;&gt;Piwik&lt;/a&gt; as an site analytics provider. This requires having a Piwik instance hosted somewhere, either &lt;a href=&#34;https://piwik.org/download/&#34;&gt;self-hosted&lt;/a&gt; or &lt;a href=&#34;https://www.innocraft.cloud/&#34;&gt;hosted by Innocraft&lt;/a&gt;. The theme uses the &lt;a href=&#34;https://developer.piwik.org/guides/tracking-javascript-guide&#34;&gt;JavaScript tracking client&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;" id="desc"><meta name="generator" content="Hugo 0.31.1" /><link rel="canonical" href="http://localhost:1313/docs/site/analytics/">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    
  <link rel="stylesheet" type="text/css" href="http://localhost:1313/css/dark.css"><link rel="stylesheet" type="text/css" href="http://localhost:1313/styles.css">

    <script class="_iub_cs_activate-inline" type="text/javascript">
      var _paq = _paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://analytics.gavinrozzi.com/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', '12']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
      })();

    </script>
    <noscript><p><img src="https://analytics.gavinrozzi.com/piwik.php?idsite=12&rec=1" style="border:0;" alt="" /></p></noscript>
    </head>
  <body itemscope itemtype="http://schema.org/WebPage">
    <div id="site-container">
      <div id="site-header">
        <header class="small-text-center medium-text-left row">
          <img id="site-thumbnail" class="row-item" src="http://localhost:1313/images/thumbnail.png">
          <a class="row-item" href="http://localhost:1313/">
            <span id="site-title" itemprop="name">Forked River Amateur Radio Club</span>
            <br/><span id="site-tagline">Serving the amateur radio community of Lacey Township, NJ</span>
          </a>
        </header>
        <label for="menu-toggle-box"><div id="menu-toggle" class="main-nav no-select"><span><span class="fa fa-bars"></span> MENU</span></div></label>
        <input type="checkbox" id="menu-toggle-box" class="hide"/>
        <nav id="main-nav">
          <ul class="menu"><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-home" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/" >
      <span>HOME</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-documentation" class="hide"/>
    <a class="main-nav button active" tabindex="0" href="http://localhost:1313/docs/" >
      <span>DOCUMENTATION</span><label for="nav-documentation">
        &nbsp;&nbsp;<span class="nav-arrow">&#9656;</span>
      </label></a><ul>
    <li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-example-configs" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/example-configs/" >
      <span>EXAMPLE CONFIGS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-pages" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/pages/" >
      <span>PAGES</span><label for="nav-pages">
        &nbsp;&nbsp;<span class="nav-arrow">&#9656;</span>
      </label></a><ul>
    <li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-alert" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/site/alert/#page-specific-alerts" >
      <span>ALERT</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-customize-list-pages" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/pages/custom-list-pages/" >
      <span>CUSTOMIZE LIST PAGES</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-page-navigation" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/pages/next-prev-page/" >
      <span>PAGE NAVIGATION</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-summaries" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/pages/summaries/" >
      <span>SUMMARIES</span></a></li>
    </ul></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-shortcodes" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/shortcodes/" >
      <span>SHORTCODES</span><label for="nav-shortcodes">
        &nbsp;&nbsp;<span class="nav-arrow">&#9656;</span>
      </label></a><ul>
    <li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-alert" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/site/alert/#shortcode" >
      <span>ALERT</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-custom-fonts" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/shortcodes/custom-fonts/" >
      <span>CUSTOM FONTS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-members" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/shortcodes/members/" >
      <span>MEMBERS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-netlify-forms" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/shortcodes/netlify-forms/" >
      <span>NETLIFY FORMS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-responsive-tables" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/shortcodes/responsive-tables/" >
      <span>RESPONSIVE TABLES</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-link-to-static-files" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/shortcodes/static/" >
      <span>LINK TO STATIC FILES</span></a></li>
    </ul></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-sidebar" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/" >
      <span>SIDEBAR</span><label for="nav-sidebar">
        &nbsp;&nbsp;<span class="nav-arrow">&#9656;</span>
      </label></a><ul>
    <li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-category-list" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/category-list/" >
      <span>CATEGORY LIST</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-events" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/events/" >
      <span>EVENTS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-patreon-banner" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/patreon-banner/" >
      <span>PATREON BANNER</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-recent-posts" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/recent-posts/" >
      <span>RECENT POSTS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-search" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/search/" >
      <span>SEARCH</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-tag-list" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/sidebar/tag-list/" >
      <span>TAG LIST</span></a></li>
    </ul></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-site" class="hide"/>
    <a class="main-nav button active" tabindex="0" href="http://localhost:1313/docs/site/" >
      <span>SITE</span><label for="nav-site">
        &nbsp;&nbsp;<span class="nav-arrow">&#9656;</span>
      </label></a><ul>
    <li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-alert" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/site/alert/" >
      <span>ALERT</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-analytics" class="hide"/>
    <a class="main-nav button active" tabindex="0" href="http://localhost:1313/docs/site/analytics/" >
      <span>ANALYTICS</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-appearance" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/site/appearance/" >
      <span>APPEARANCE</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-policies" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/site/policies/" >
      <span>POLICIES</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-social-icons" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/site/social-icons/" >
      <span>SOCIAL ICONS</span></a></li>
    </ul></li>
    </ul></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-club-frequencies" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/pages/frequencies/" >
      <span>CLUB FREQUENCIES</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-facebook-page" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/docs/pages/facebook/" >
      <span>FACEBOOK PAGE</span></a></li><li class="no-select" itemscope itemtype="http://schema.org/SiteNavigationElement">
    <input type="checkbox" id="nav-about" class="hide"/>
    <a class="main-nav button" tabindex="0" href="http://localhost:1313/about/" >
      <span>ABOUT</span></a></li></ul>
        </nav>
        </div>
      <div id="main-container" class="row" role="main" itemprop="mainContentOfPage">
        
        
        
<main class="row-item small-full medium-two-thirds" >
  <article id="post-article" itemscope itemtype="http://schema.org/Article" itemref="desc">
    <header id="page-header">
      <h1 itemprop="headline">Analytics</h1><p id="post-metadata" class="row"><span class="row-item">
          <span class="fa fa-folder"></span>
          <a href="http://localhost:1313/categories/documentation" rel="category">Documentation</a>
        </span><span class="row-item"><span class="fa fa-book"></span> <strong>Estimated reading time:</strong> ~<span itemprop="timeRequired">2 minutes</span></span></p>
      
    </header>
    
    <div id="post-content">
      <span itemprop="articleBody"><p>BluestNight comes with support for <a href="https://piwik.org/">Piwik</a> as an site analytics provider. This requires having a Piwik instance hosted somewhere, either <a href="https://piwik.org/download/">self-hosted</a> or <a href="https://www.innocraft.cloud/">hosted by Innocraft</a>. The theme uses the <a href="https://developer.piwik.org/guides/tracking-javascript-guide">JavaScript tracking client</a>.</p>

<p></p>

<h1 id="setup">Setup</h1>

<p>Set <code>enable</code> to <code>true</code> and <code>host</code> to the root URL of the Piwik installation under <code>[Params.piwik]</code> in your site&rsquo;s configuration file. If your Piwik installation tracks multiple websites, add the site ID number in <code>site_id</code>.</p>

<pre><code># In config.toml
[Params.piwik]
    enable = true
    # URL to the root of the piwik installation.
    # Can include paths after the TLD (e.g https://example.com/piwik/)
    host = &quot;https://piwik.example.com&quot;
    # ID number of this site. Defaults to 1 if not included
    site_id = 2
    # Include &lt;noscript&gt; tags to track users with javascript disabled
    track_nojs = true
    # Include a link in the site footer to allow users to opt out of analytics
    enable_optout = true
</code></pre>

<h1 id="ajax-one-click-opt-out">Ajax &ldquo;one-click&rdquo; opt-out</h1>

<p>Piwik currently only provides an <code>&lt;iframe&gt;</code> as a method of opting out of being tracked. It sucks, looks bad on a themed page, and just generally isn&rsquo;t a great idea. A user thought so too and <a href="https://plugins.piwik.org/AjaxOptOut">created a plugin</a> that allows developers to create an opt-out <em>button</em>. *GASP!*</p>

<p>I recommend you install the above plugin and enable support for one-click opting out with the below configuration:</p>

<pre><code># In config.toml
[Params.piwik]
    enable = true
    # URL to the root of the piwik installation.
    # Can include paths after the TLD (e.g https://example.com/piwik/)
    host = &quot;https://piwik.example.com&quot;
    # Include &lt;noscript&gt; tags to track users with javascript disabled
    track_nojs = true
    # Include a link in the site footer to allow users to opt out of analytics
    enable_optout = true
    # Enable ajax &quot;one-click&quot;
    enable_ajax = true
</code></pre>

<p><strong>Note:</strong> You will need to <a href="https://piwik.org/faq/how-to/faq_18694/">enable cross-domain requests</a> in your Piwik installation and set the <code>Access-Control-Allow-Credentials</code> header to <code>true</code> on the server hosting Piwik.</p>

<p>Nginx: In the Piwik <code>server {}</code> block, add the line <code>add_header Access-Control-Allow-Credentials &quot;true&quot; always;</code></p>

<p>Apache (including <code>.htaccess</code> files):
Add the following to your server&rsquo;s <code>&lt;VirtualHost&gt;</code> block or to a <code>.htaccess</code> file at the root of your Piwik installation.</p>

<pre><code>&lt;IfModule mod_headers.c&gt;
    SetEnvIf Origin (.*) AccessControlAllowOrigin=$1
    Header add Access-Control-Allow-Origin %{AccessControlAllowOrigin}e env=AccessControlAllowOrigin
    Header set Access-Control-Allow-Credentials true
&lt;/IfModule&gt;
</code></pre></span>
    </div></article>

  </main>

        <aside class="row-item small-full medium-third right" itemscope itemtype="http://schema.org/WPSideBar">
  
  
  
	<div class="widget">
	
	
	<header>
		<span class="widget-header"><span class="fa fa-pencil"></span> <a href="http://localhost:1313/">Recent Posts</a></span>
	</header>
	
			<a class="widget-header-small button" href="http://localhost:1313/index.xml"><span class="fa fa-rss"></span> Subscribe to the Site</a>
		<a class="widget-header-small button" href="http://localhost:1313/docs/site/index.xml"><span class="fa fa-rss"></span> Subscribe to Site</a><ul><li><a href="http://localhost:1313/about/">About</a></li></ul>
</div>
  
	<div class="widget">
	<header>
		<span class="widget-header"><span class="fa fa-folder"></span> <a href="http://localhost:1313/categories/">Categories</a></span>
	</header>
	<ul><li><a href="http://localhost:1313/categories/documentation">Documentation</a></li>
		<li><a href="http://localhost:1313/categories/"></a></li>
		
	</ul>
</div>
	
</aside>

      </div>
      <footer class="row">
        <div class="small-full medium-half small-text-center medium-text-left medium-left row">
          <div class="small-full">
            <small>
              &copy; 2017
              <span itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
                <span itemprop="name">Forked River Amateur Radio Club</span>
              </span>
            </small>
          </div>
          <div class="small-full row">
            
            
            
          </div>
        </div>
        
        <div id="social-icons" class="row small-full medium-half small-text-center medium-text-right" style="align-self: center;">

























</div>
      </footer>
    </div>
    
      <script type="text/javascript" src="http://localhost:1313/js/thumbnail.min.js"></script>
      </body>
</html>
